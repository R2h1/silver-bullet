# 栈

栈是一种后入先出（LIFO）的线性逻辑存储结构。只允许在栈顶进行进出操作。

## 栈基本操作

基本操作包括：入栈（push）/出栈（pop）/获取栈顶元素（peek）。

栈的实现主要有两种： 
1. 数组实现，即顺序栈；
2. 链表实现，即链式栈。

无论是以数组还是以链表实现，入栈、出栈的时间复杂度都是O(1)。

栈的应用比如函数执行/括号匹配/表达式计算/浏览器前进后退。

![](../../public/basics/dsa-3.png)

## 设计栈

### 1. 数组实现栈

<<< ../../../src/栈/设计实现栈/arrayStack.ts#docs[arrayStack.ts]

### 2. 链表实现栈

::: code-group

<<< ../../../src/栈/设计实现栈/linkStack.ts#docs[linkStack.ts]

<<< ../../../src/链表/设计链表/linkNode.ts#docs[linkNode.ts]

:::

## 算法题

### 1. 包含 min 函数的栈

**题目描述**：定义栈的数据结构，请在该类型中实现一个能够得到栈的最小元素的 min 函数在该栈中，调用 min、push 及 pop 的时间复杂度都是 O(1)。

**分析**：

**数据栈+最小栈法**，利用一个最小栈存放当前数据栈的最小元素，保持两个栈的长度相同。从首个元素入数据栈开始，每个元素均入数据栈。同时，判断当前元素与最小栈栈顶元素的大小，将小的元素入最小栈即可。

**求解**：

<<< ../../../src/栈/包含min函数的栈/minStack.ts#docs[minStack.ts]

### 2. 栈的压入、弹出序列

**题目描述**：输入两个整数序列，第一个序列表示栈的压入顺序，请判断第二个序列是否为该栈的弹出顺序。假设压入栈的所有数字均不相等。例如，序列 {1,2,3,4,5} 是某栈的压栈序列，序列 {4,5,3,2,1} 是该压栈序列对应的一个弹出序列，但 {4,3,5,1,2} 就不可能是该压栈序列的弹出序列。

**分析**：

**辅助栈模拟法**，借用一个辅助栈 stack ，模拟压入/弹出操作的排列。根据是否模拟成功，即可得到结果。首先按照压栈序列的顺序执行辅助栈入栈操作，每次压栈序列中的元素入栈时，若栈不为空且栈顶元素等于弹出序列当前应弹出元素，即对栈进行出栈操作并更新弹出元素，最终判断栈是否为空即可。

**求解**：

<<< ../../../src/栈/栈的压入、弹出序列/validateStackSequences.ts#docs[validateStackSequences.ts]

# 队列

队列是一种先入先出（FIFO）的线性逻辑存储结构。只允许在队首进行出队（即 delete 删除）操作，队尾进行入队（即 insert 插入）操作。

## 队列基本操作

队列的基本操作包括：入队 （enqueue）/ 出队 （dequeue）/ 获取队头元素（peek）

队列的实现主要有两种： 
1. 数组实现，即顺序队列。
2. 链表实现，即链式队列。

无论是以数组还是以链表实现，入队、出队的时间复杂度都是 O(1)。

队列的应用比如线程池、资源池、消息队列、异步队列。

![](../../public/basics/dsa-4.png)

## 设计队列

### 1.顺序队列

数组实现，使用shift出队时每次都要移动队列元素，效率不高。改进方案是可以**队列初始化时就需要规定队列长度**，通过判断队尾是否有空间，有就让元素一直入队，直到队尾没有空间位置，然后进行整体进行一次搬移，这样优化了入队的效率，平均时间复杂度还是 O(1)。

<<< ../../../src/队列/设计实现队列/arrayQueue.ts#docs[arrayQueue.ts]

### 2.循环队列

数组实现，初始化需指定队列容量，留一个空位，队空条件 head = tail，队满条件 head =( tail + 1) % capacity，队列元素个数 (tail - head + capacity) % capacity。

<<< ../../../src/队列/设计实现队列/arrayLoopQueue.ts#docs[arrayLoopQueue.ts]

### 3.链式队列

链表实现，链表尾入队，链表头出队。

::: code-group

<<< ../../../src/队列/设计实现队列/linkQueue.ts#docs[linkQueue.ts]

<<< ../../../src/链表/设计链表/linkNode.ts#docs[linkNode.ts]

:::

## 算法题

### 1. 两个栈实现队列

**题目描述**：用两个栈来实现一个队列，完成队列的Push和Pop操作。 队列中的元素为int类型。

**分析**：

栈用数组模拟，队列只允许在队首进行出队（即delete/pop删除 ）操作，队尾进行入队（即insert/push插入）操作，因此其中一个栈 stack1用于入队，另一个栈stack2用于出队，出队时判断**出队栈 stack2** 是否为空：
1. 空则将**入队栈 stack1** 中的元素全部转移至**出队栈 stack2，然后出队栈 stack2 栈顶元素出队即可**。
2. **非空，则出队栈 stack2 栈顶元素直接出队。**

**求解**：

<<< ../../../src/队列/用两个栈实现队列/cQueue.ts#docs[cQueue.ts.ts]
