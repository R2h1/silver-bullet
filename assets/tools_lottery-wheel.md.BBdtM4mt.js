import{_ as q,c as o,o as n,k as t,a as c,e as g,n as k,F as b,B as f,a2 as p,a3 as w,a4 as _,t as d,a6 as S,M as v,G as z,P as y}from"./chunks/framework.DtSlGNS9.js";const P={name:"LotteryWheel",data(){return{mode:"wheel",prizes:[{name:"一等奖",weight:10,color:"#ff6b6b"},{name:"二等奖",weight:20,color:"#feca57"},{name:"三等奖",weight:30,color:"#48dbfb"},{name:"参与奖",weight:40,color:"#1dd1a1"}],drawCount:1,allowDuplicates:!1,wheelSpeed:5,wheelSize:350,wheelRotation:0,wheelDuration:5,isSpinning:!1,results:[],currentResult:null,boxSpeed:.5,spinningText:"",colorOptions:{红色:"#ff6b6b",橙色:"#ff9ff3",黄色:"#feca57",绿色:"#1dd1a1",蓝色:"#48dbfb",紫色:"#a29bfe",粉色:"#ff9ff3",灰色:"#c8d6e5"}}},computed:{totalWeight(){return this.prizes.reduce((i,e)=>i+e.weight,0)}},methods:{addPrize(){const i=Object.values(this.colorOptions),e=i[Math.floor(Math.random()*i.length)];this.prizes.push({name:"",weight:10,color:e})},removePrize(i){this.prizes.splice(i,1)},startDraw(){if(this.prizes.length<2){alert("请至少添加两个奖项");return}this.isSpinning=!0,this.mode==="wheel"?this.spinWheel():this.drawFromBox()},spinWheel(){const i=Math.random()*this.totalWeight;let e=0,a=null;for(const u of this.prizes)if(e+=u.weight,i<=e){a=u;break}const h=360/this.prizes.length,l=this.wheelRotation%360,s=3600+this.prizes.findIndex(u=>u.name===a.name)*h-l%360;this.wheelRotation+=s,this.wheelDuration=3+this.wheelSpeed/2,setTimeout(()=>{this.isSpinning=!1,this.showResult(a.name)},this.wheelDuration*1e3)},drawFromBox(){let i=0;const e=20,a=setInterval(()=>{const h=Math.floor(Math.random()*this.prizes.length);if(this.spinningText=this.prizes[h].name,i++,i>=e){clearInterval(a);const l=Math.random()*this.totalWeight;let r=0,s=null;for(const u of this.prizes)if(r+=u.weight,l<=r){s=u;break}this.isSpinning=!1,this.showResult(s.name)}},this.boxSpeed*100)},showResult(i){if(this.currentResult=i,!this.allowDuplicates){const e=this.prizes.findIndex(a=>a.name===i);e!==-1&&(this.prizes[e].originalWeight||(this.prizes[e].originalWeight=this.prizes[e].weight),this.prizes[e].weight=0)}this.results.unshift({prize:i,timestamp:new Date}),this.drawCount>1&&this.results.length<this.drawCount&&setTimeout(()=>{this.startDraw()},1e3)},reset(){this.prizes.forEach(i=>{i.originalWeight&&(i.weight=i.originalWeight,delete i.originalWeight)}),this.wheelRotation=0,this.isSpinning=!1,this.currentResult=null},clearResults(){this.results=[]},exportResults(){const i=this.results.map((l,r)=>`${r+1}. ${l.prize} - ${this.formatTime(l.timestamp)}`).join(`
`),e=new Blob([i],{type:"text/plain"}),a=URL.createObjectURL(e),h=document.createElement("a");h.href=a,h.download=`抽奖结果_${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(a)},formatTime(i){const e=new Date(i);return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}`},getPrizeCount(i){return this.results.filter(e=>e.prize===i).length},getPrizePercentage(i){return this.results.length===0?0:(this.getPrizeCount(i)/this.results.length*100).toFixed(1)}}},C={class:"lottery-wheel"},R={class:"tool-body"},D={class:"mode-selector"},U={class:"configuration-section"},V={class:"input-group"},W={class:"prizes-input"},M=["onUpdate:modelValue","placeholder"],T=["onUpdate:modelValue"],B=["onUpdate:modelValue"],I=["value"],O=["onClick"],L={class:"settings-group"},F={class:"setting-item"},j={class:"setting-item"},N={key:0,class:"setting-item"},A={key:1,class:"setting-item"},E={class:"action-section"},G=["disabled"],H={class:"display-section"},J={key:0,class:"wheel-container"},K={class:"segment-content"},Q={class:"prize-name"},X={class:"prize-weight"},Y={key:1,class:"box-container"},Z={class:"lottery-box"},$={class:"box-content"},ee={key:1,class:"result-item"},te={key:2,class:"placeholder"},le={key:2,class:"results-section"},se={class:"results-list"},ie={class:"result-number"},oe={class:"result-prize"},ne={class:"result-time"},re={class:"results-actions"},ae={key:0,class:"statistics-section"},ue={class:"stats-chart"},de={class:"stat-info"},he={class:"stat-name"},ce={class:"stat-count"},me={class:"stat-bar"};function ge(i,e,a,h,l,r){return n(),o("div",C,[e[28]||(e[28]=t("div",{class:"tool-header"},[t("h2",null,[t("i",{class:"fas fa-gift"}),c(" 抽奖/转盘工具")]),t("p",null,"创建自定义抽奖活动，支持转盘和抽奖箱两种模式")],-1)),t("div",R,[t("div",D,[t("button",{class:k({active:l.mode==="wheel"}),onClick:e[0]||(e[0]=s=>l.mode="wheel")},[...e[11]||(e[11]=[t("i",{class:"fas fa-circle"},null,-1),c(" 转盘模式 ",-1)])],2),t("button",{class:k({active:l.mode==="box"}),onClick:e[1]||(e[1]=s=>l.mode="box")},[...e[12]||(e[12]=[t("i",{class:"fas fa-cube"},null,-1),c(" 抽奖箱模式 ",-1)])],2)]),t("div",U,[t("div",V,[e[15]||(e[15]=t("label",null,"奖项设置",-1)),t("div",W,[(n(!0),o(b,null,f(l.prizes,(s,u)=>(n(),o("div",{key:u,class:"prize-item"},[p(t("input",{type:"text","onUpdate:modelValue":m=>s.name=m,placeholder:`奖项 ${u+1}`},null,8,M),[[w,s.name]]),p(t("input",{type:"number","onUpdate:modelValue":m=>s.weight=m,min:"1",max:"100",class:"weight-input",title:"权重越高，中奖概率越大"},null,8,T),[[w,s.weight]]),p(t("select",{"onUpdate:modelValue":m=>s.color=m,class:"color-select"},[(n(!0),o(b,null,f(l.colorOptions,(m,x)=>(n(),o("option",{key:x,value:m},d(x),9,I))),128))],8,B),[[_,s.color]]),l.prizes.length>2?(n(),o("button",{key:0,onClick:m=>r.removePrize(u),class:"remove-btn"},[...e[13]||(e[13]=[t("i",{class:"fas fa-times"},null,-1)])],8,O)):g("",!0)]))),128))]),t("button",{onClick:e[2]||(e[2]=(...s)=>r.addPrize&&r.addPrize(...s)),class:"add-prize-btn"},[...e[14]||(e[14]=[t("i",{class:"fas fa-plus"},null,-1),c(" 添加奖项 ",-1)])])]),t("div",L,[t("div",F,[e[16]||(e[16]=t("label",null,"抽奖次数",-1)),p(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=s=>l.drawCount=s),min:"1",max:"10"},null,512),[[w,l.drawCount,void 0,{number:!0}]])]),t("div",j,[e[17]||(e[17]=t("label",null,"是否允许重复中奖",-1)),p(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=s=>l.allowDuplicates=s)},null,512),[[S,l.allowDuplicates]])]),l.mode==="wheel"?(n(),o("div",N,[e[18]||(e[18]=t("label",null,"转盘速度",-1)),p(t("input",{type:"range","onUpdate:modelValue":e[5]||(e[5]=s=>l.wheelSpeed=s),min:"1",max:"10"},null,512),[[w,l.wheelSpeed,void 0,{number:!0}]]),t("span",null,d(l.wheelSpeed)+"x",1)])):g("",!0),l.mode==="wheel"?(n(),o("div",A,[e[19]||(e[19]=t("label",null,"转盘大小",-1)),p(t("input",{type:"range","onUpdate:modelValue":e[6]||(e[6]=s=>l.wheelSize=s),min:"200",max:"500",step:"50"},null,512),[[w,l.wheelSize,void 0,{number:!0}]]),t("span",null,d(l.wheelSize)+"px",1)])):g("",!0)])]),t("div",E,[t("button",{onClick:e[7]||(e[7]=(...s)=>r.startDraw&&r.startDraw(...s)),disabled:l.isSpinning||l.prizes.length<2,class:"draw-btn"},[...e[20]||(e[20]=[t("i",{class:"fas fa-star"},null,-1),c(" 开始抽奖 ",-1)])],8,G),t("button",{onClick:e[8]||(e[8]=(...s)=>r.reset&&r.reset(...s)),class:"reset-btn"},[...e[21]||(e[21]=[t("i",{class:"fas fa-redo"},null,-1),c(" 重置 ",-1)])])]),t("div",H,[l.mode==="wheel"?(n(),o("div",J,[t("div",{class:"wheel",style:v({width:`${l.wheelSize}px`,height:`${l.wheelSize}px`,transform:`rotate(${l.wheelRotation}deg)`,transition:l.isSpinning?`transform ${l.wheelDuration}s cubic-bezier(0.17, 0.67, 0.83, 0.67)`:"none"})},[(n(!0),o(b,null,f(l.prizes,(s,u)=>(n(),o("div",{key:u,class:"wheel-segment",style:v({transform:`rotate(${u*(360/l.prizes.length)}deg)`,backgroundColor:s.color})},[t("div",K,[t("span",Q,d(s.name),1),t("span",X,d(s.weight)+"%",1)])],4))),128)),e[22]||(e[22]=t("div",{class:"wheel-center"},null,-1))],4),e[23]||(e[23]=t("div",{class:"wheel-pointer"},null,-1))])):g("",!0),l.mode==="box"?(n(),o("div",Y,[t("div",Z,[t("div",$,[l.isSpinning?(n(),o("div",{key:0,class:"spinning-item",style:v({animationDuration:`${l.boxSpeed}s`})},d(l.spinningText),5)):l.currentResult?(n(),o("div",ee,d(l.currentResult),1)):(n(),o("div",te," 点击开始抽奖 "))])])])):g("",!0),l.results.length>0?(n(),o("div",le,[e[26]||(e[26]=t("h3",null,"抽奖结果",-1)),t("div",se,[(n(!0),o(b,null,f(l.results,(s,u)=>(n(),o("div",{key:u,class:"result-item"},[t("span",ie,"#"+d(u+1),1),t("span",oe,d(s),1),t("span",ne,d(r.formatTime(s.timestamp)),1)]))),128))]),t("div",re,[t("button",{onClick:e[9]||(e[9]=(...s)=>r.exportResults&&r.exportResults(...s)),class:"export-btn"},[...e[24]||(e[24]=[t("i",{class:"fas fa-download"},null,-1),c(" 导出结果 ",-1)])]),t("button",{onClick:e[10]||(e[10]=(...s)=>r.clearResults&&r.clearResults(...s)),class:"clear-btn"},[...e[25]||(e[25]=[t("i",{class:"fas fa-trash"},null,-1),c(" 清空记录 ",-1)])])])])):g("",!0)]),l.results.length>0?(n(),o("div",ae,[e[27]||(e[27]=t("h3",null,"中奖统计",-1)),t("div",ue,[(n(!0),o(b,null,f(l.prizes,s=>(n(),o("div",{key:s.name,class:"stat-item"},[t("div",de,[t("span",he,d(s.name),1),t("span",ce,d(r.getPrizeCount(s.name))+"次 ("+d(r.getPrizePercentage(s.name))+"%) ",1)]),t("div",me,[t("div",{class:"stat-progress",style:v({width:`${r.getPrizePercentage(s.name)}%`,backgroundColor:s.color})},null,4)])]))),128))])])):g("",!0)])])}const pe=q(P,[["render",ge],["__scopeId","data-v-4e048a82"]]),we=JSON.parse('{"title":"抽奖/转盘工具","description":"","frontmatter":{},"headers":[],"relativePath":"tools/lottery-wheel.md","filePath":"tools/lottery-wheel.md","lastUpdated":1757695674000}'),be={name:"tools/lottery-wheel.md"},ve=Object.assign(be,{setup(i){return(e,a)=>(n(),o("div",null,[a[0]||(a[0]=t("h1",{id:"抽奖-转盘工具",tabindex:"-1"},[c("抽奖/转盘工具 "),t("a",{class:"header-anchor",href:"#抽奖-转盘工具","aria-label":'Permalink to "抽奖/转盘工具"'},"​")],-1)),a[1]||(a[1]=t("p",null,"一个功能丰富的抽奖工具，支持转盘和抽奖箱两种模式，可自定义奖项和概率。",-1)),z(pe),a[2]||(a[2]=y('<h2 id="功能特点" tabindex="-1">功能特点 <a class="header-anchor" href="#功能特点" aria-label="Permalink to &quot;功能特点&quot;">​</a></h2><ul><li><strong>双模式支持</strong>：转盘模式和抽奖箱模式，满足不同场景需求</li><li><strong>完全自定义</strong>：可添加、删除和配置奖项名称、颜色和权重</li><li><strong>权重系统</strong>：设置不同奖项的中奖概率</li><li><strong>结果记录</strong>：保存所有抽奖结果，支持导出</li><li><strong>统计功能</strong>：可视化显示各奖项的中奖统计</li><li><strong>防重复机制</strong>：可选择是否允许重复中奖</li><li><strong>响应式设计</strong>：在手机和电脑上都能良好显示</li></ul><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h2><h3 id="_1-配置奖项" tabindex="-1">1. 配置奖项 <a class="header-anchor" href="#_1-配置奖项" aria-label="Permalink to &quot;1. 配置奖项&quot;">​</a></h3><ol><li>在&quot;奖项设置&quot;区域添加或删除奖项</li><li>为每个奖项设置名称、颜色和权重（权重越高，中奖概率越大）</li><li>权重总和会自动计算，确保合理分配概率</li></ol><h3 id="_2-调整设置" tabindex="-1">2. 调整设置 <a class="header-anchor" href="#_2-调整设置" aria-label="Permalink to &quot;2. 调整设置&quot;">​</a></h3><ul><li><strong>抽奖次数</strong>：设置一次抽取多少个奖项</li><li><strong>允许重复</strong>：选择是否允许同一个奖项多次中奖</li><li><strong>转盘速度</strong>：调整转盘旋转速度（仅转盘模式）</li><li><strong>转盘大小</strong>：调整转盘尺寸（仅转盘模式）</li></ul><h3 id="_3-开始抽奖" tabindex="-1">3. 开始抽奖 <a class="header-anchor" href="#_3-开始抽奖" aria-label="Permalink to &quot;3. 开始抽奖&quot;">​</a></h3><p>点击&quot;开始抽奖&quot;按钮，系统会根据权重随机抽取奖项</p><h3 id="_4-查看结果" tabindex="-1">4. 查看结果 <a class="header-anchor" href="#_4-查看结果" aria-label="Permalink to &quot;4. 查看结果&quot;">​</a></h3><ul><li>在&quot;抽奖结果&quot;区域查看所有历史记录</li><li>在&quot;中奖统计&quot;区域查看各奖项的中奖概率统计</li><li>使用&quot;导出结果&quot;按钮保存抽奖记录</li><li>使用&quot;清空记录&quot;按钮清除所有历史</li></ul><h2 id="模式说明" tabindex="-1">模式说明 <a class="header-anchor" href="#模式说明" aria-label="Permalink to &quot;模式说明&quot;">​</a></h2><h3 id="转盘模式" tabindex="-1">转盘模式 <a class="header-anchor" href="#转盘模式" aria-label="Permalink to &quot;转盘模式&quot;">​</a></h3><ul><li>视觉化展示抽奖过程</li><li>转盘旋转动画增强体验感</li><li>适合现场活动和展示场景</li></ul><h3 id="抽奖箱模式" tabindex="-1">抽奖箱模式 <a class="header-anchor" href="#抽奖箱模式" aria-label="Permalink to &quot;抽奖箱模式&quot;">​</a></h3><ul><li>简洁的文字抽奖方式</li><li>快速显示结果</li><li>适合需要快速多次抽奖的场景</li></ul><h2 id="权重系统说明" tabindex="-1">权重系统说明 <a class="header-anchor" href="#权重系统说明" aria-label="Permalink to &quot;权重系统说明&quot;">​</a></h2><p>权重决定了每个奖项的中奖概率，计算公式为：</p><p>单个奖项概率 = (奖项权重 / 总权重) × 100%</p><p>例如：</p><ul><li>奖项A权重10，奖项B权重20，奖项C权重30</li><li>总权重 = 10 + 20 + 30 = 60</li><li>奖项A概率 = (10/60) × 100% = 16.7%</li><li>奖项B概率 = (20/60) × 100% = 33.3%</li><li>奖项C概率 = (30/60) × 100% = 50%</li></ul><h2 id="应用场景" tabindex="-1">应用场景 <a class="header-anchor" href="#应用场景" aria-label="Permalink to &quot;应用场景&quot;">​</a></h2><h3 id="活动抽奖" tabindex="-1">活动抽奖 <a class="header-anchor" href="#活动抽奖" aria-label="Permalink to &quot;活动抽奖&quot;">​</a></h3><ul><li>公司年会抽奖活动</li><li>商场促销活动</li><li>线上直播抽奖</li></ul><h3 id="课堂教育" tabindex="-1">课堂教育 <a class="header-anchor" href="#课堂教育" aria-label="Permalink to &quot;课堂教育&quot;">​</a></h3><ul><li>随机选择学生回答问题</li><li>分组抽签</li><li>课堂游戏</li></ul><h3 id="日常使用" tabindex="-1">日常使用 <a class="header-anchor" href="#日常使用" aria-label="Permalink to &quot;日常使用&quot;">​</a></h3><ul><li>家庭决策（今天谁洗碗）</li><li>选择午餐吃什么</li><li>随机分配任务</li></ul><h2 id="技术说明" tabindex="-1">技术说明 <a class="header-anchor" href="#技术说明" aria-label="Permalink to &quot;技术说明&quot;">​</a></h2><p>本工具使用纯前端技术实现，所有计算在浏览器端完成：</p><ol><li><strong>权重算法</strong>：使用权重累计算法实现概率抽奖</li><li><strong>动画效果</strong>：使用CSS transform和transition实现转盘动画</li><li><strong>数据存储</strong>：使用组件内部状态管理，不依赖外部存储</li><li><strong>响应式设计</strong>：使用CSS Grid和Flexbox实现自适应布局</li></ol><h2 id="使用技巧" tabindex="-1">使用技巧 <a class="header-anchor" href="#使用技巧" aria-label="Permalink to &quot;使用技巧&quot;">​</a></h2><ol><li><strong>合理设置权重</strong>：重要奖项设置较低权重，普通奖项设置较高权重</li><li><strong>颜色区分</strong>：使用不同颜色区分不同级别的奖项</li><li><strong>防重复机制</strong>：对于重要抽奖，关闭&quot;允许重复&quot;选项</li><li><strong>结果导出</strong>：定期导出结果以备查阅或公示</li></ol><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ol><li>抽奖结果基于随机数算法，无法保证绝对公平</li><li>权重设置会影响中奖概率，请合理配置</li><li>清除浏览器缓存会丢失历史记录</li><li>大量抽奖时，实际结果可能会偏离理论概率</li></ol>',35))]))}});export{we as __pageData,ve as default};
