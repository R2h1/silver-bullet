import{_ as q,c as R,o as I,k as c,e as G,a2 as N,t as F,a3 as V,a as L,a6 as Q,a7 as j,n as O,F as U,B as H,G as J,P as X}from"./chunks/framework.DI5ZwNtl.js";function Z(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var z={exports:{}};(function(b){var l=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},d=-1,p=1,u=0;l.Diff=function(e,r){return[e,r]},l.prototype.diff_main=function(e,r,n,i){typeof i>"u"&&(this.Diff_Timeout<=0?i=Number.MAX_VALUE:i=new Date().getTime()+this.Diff_Timeout*1e3);var s=i;if(e==null||r==null)throw new Error("Null input. (diff_main)");if(e==r)return e?[new l.Diff(u,e)]:[];typeof n>"u"&&(n=!0);var t=n,a=this.diff_commonPrefix(e,r),h=e.substring(0,a);e=e.substring(a),r=r.substring(a),a=this.diff_commonSuffix(e,r);var o=e.substring(e.length-a);e=e.substring(0,e.length-a),r=r.substring(0,r.length-a);var f=this.diff_compute_(e,r,t,s);return h&&f.unshift(new l.Diff(u,h)),o&&f.push(new l.Diff(u,o)),this.diff_cleanupMerge(f),f},l.prototype.diff_compute_=function(e,r,n,i){var s;if(!e)return[new l.Diff(p,r)];if(!r)return[new l.Diff(d,e)];var t=e.length>r.length?e:r,a=e.length>r.length?r:e,h=t.indexOf(a);if(h!=-1)return s=[new l.Diff(p,t.substring(0,h)),new l.Diff(u,a),new l.Diff(p,t.substring(h+a.length))],e.length>r.length&&(s[0][0]=s[2][0]=d),s;if(a.length==1)return[new l.Diff(d,e),new l.Diff(p,r)];var o=this.diff_halfMatch_(e,r);if(o){var f=o[0],g=o[1],v=o[2],_=o[3],m=o[4],w=this.diff_main(f,v,n,i),D=this.diff_main(g,_,n,i);return w.concat([new l.Diff(u,m)],D)}return n&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,i):this.diff_bisect_(e,r,i)},l.prototype.diff_lineMode_=function(e,r,n){var i=this.diff_linesToChars_(e,r);e=i.chars1,r=i.chars2;var s=i.lineArray,t=this.diff_main(e,r,!1,n);this.diff_charsToLines_(t,s),this.diff_cleanupSemantic(t),t.push(new l.Diff(u,""));for(var a=0,h=0,o=0,f="",g="";a<t.length;){switch(t[a][0]){case p:o++,g+=t[a][1];break;case d:h++,f+=t[a][1];break;case u:if(h>=1&&o>=1){t.splice(a-h-o,h+o),a=a-h-o;for(var v=this.diff_main(f,g,!1,n),_=v.length-1;_>=0;_--)t.splice(a,0,v[_]);a=a+v.length}o=0,h=0,f="",g="";break}a++}return t.pop(),t},l.prototype.diff_bisect_=function(e,r,n){for(var i=e.length,s=r.length,t=Math.ceil((i+s)/2),a=t,h=2*t,o=new Array(h),f=new Array(h),g=0;g<h;g++)o[g]=-1,f[g]=-1;o[a+1]=0,f[a+1]=0;for(var v=i-s,_=v%2!=0,m=0,w=0,D=0,S=0,M=0;M<t&&!(new Date().getTime()>n);M++){for(var T=-M+m;T<=M-w;T+=2){var y=a+T,k;T==-M||T!=M&&o[y-1]<o[y+1]?k=o[y+1]:k=o[y-1]+1;for(var E=k-T;k<i&&E<s&&e.charAt(k)==r.charAt(E);)k++,E++;if(o[y]=k,k>i)w+=2;else if(E>s)m+=2;else if(_){var A=a+v-T;if(A>=0&&A<h&&f[A]!=-1){var P=i-f[A];if(k>=P)return this.diff_bisectSplit_(e,r,k,E,n)}}}for(var C=-M+D;C<=M-S;C+=2){var A=a+C,P;C==-M||C!=M&&f[A-1]<f[A+1]?P=f[A+1]:P=f[A-1]+1;for(var B=P-C;P<i&&B<s&&e.charAt(i-P-1)==r.charAt(s-B-1);)P++,B++;if(f[A]=P,P>i)S+=2;else if(B>s)D+=2;else if(!_){var y=a+v-C;if(y>=0&&y<h&&o[y]!=-1){var k=o[y],E=a+k-y;if(P=i-P,k>=P)return this.diff_bisectSplit_(e,r,k,E,n)}}}}return[new l.Diff(d,e),new l.Diff(p,r)]},l.prototype.diff_bisectSplit_=function(e,r,n,i,s){var t=e.substring(0,n),a=r.substring(0,i),h=e.substring(n),o=r.substring(i),f=this.diff_main(t,a,!1,s),g=this.diff_main(h,o,!1,s);return f.concat(g)},l.prototype.diff_linesToChars_=function(e,r){var n=[],i={};n[0]="";function s(o){for(var f="",g=0,v=-1,_=n.length;v<o.length-1;){v=o.indexOf(`
`,g),v==-1&&(v=o.length-1);var m=o.substring(g,v+1);(i.hasOwnProperty?i.hasOwnProperty(m):i[m]!==void 0)?f+=String.fromCharCode(i[m]):(_==t&&(m=o.substring(g),v=o.length),f+=String.fromCharCode(_),i[m]=_,n[_++]=m),g=v+1}return f}var t=4e4,a=s(e);t=65535;var h=s(r);return{chars1:a,chars2:h,lineArray:n}},l.prototype.diff_charsToLines_=function(e,r){for(var n=0;n<e.length;n++){for(var i=e[n][1],s=[],t=0;t<i.length;t++)s[t]=r[i.charCodeAt(t)];e[n][1]=s.join("")}},l.prototype.diff_commonPrefix=function(e,r){if(!e||!r||e.charAt(0)!=r.charAt(0))return 0;for(var n=0,i=Math.min(e.length,r.length),s=i,t=0;n<s;)e.substring(t,s)==r.substring(t,s)?(n=s,t=n):i=s,s=Math.floor((i-n)/2+n);return s},l.prototype.diff_commonSuffix=function(e,r){if(!e||!r||e.charAt(e.length-1)!=r.charAt(r.length-1))return 0;for(var n=0,i=Math.min(e.length,r.length),s=i,t=0;n<s;)e.substring(e.length-s,e.length-t)==r.substring(r.length-s,r.length-t)?(n=s,t=n):i=s,s=Math.floor((i-n)/2+n);return s},l.prototype.diff_commonOverlap_=function(e,r){var n=e.length,i=r.length;if(n==0||i==0)return 0;n>i?e=e.substring(n-i):n<i&&(r=r.substring(0,n));var s=Math.min(n,i);if(e==r)return s;for(var t=0,a=1;;){var h=e.substring(s-a),o=r.indexOf(h);if(o==-1)return t;a+=o,(o==0||e.substring(s-a)==r.substring(0,a))&&(t=a,a++)}},l.prototype.diff_halfMatch_=function(e,r){if(this.Diff_Timeout<=0)return null;var n=e.length>r.length?e:r,i=e.length>r.length?r:e;if(n.length<4||i.length*2<n.length)return null;var s=this;function t(w,D,S){for(var M=w.substring(S,S+Math.floor(w.length/4)),T=-1,y="",k,E,A,P;(T=D.indexOf(M,T+1))!=-1;){var C=s.diff_commonPrefix(w.substring(S),D.substring(T)),B=s.diff_commonSuffix(w.substring(0,S),D.substring(0,T));y.length<B+C&&(y=D.substring(T-B,T)+D.substring(T,T+C),k=w.substring(0,S-B),E=w.substring(S+C),A=D.substring(0,T-B),P=D.substring(T+C))}return y.length*2>=w.length?[k,E,A,P,y]:null}var a=t(n,i,Math.ceil(n.length/4)),h=t(n,i,Math.ceil(n.length/2)),o;if(!a&&!h)return null;h?a?o=a[4].length>h[4].length?a:h:o=h:o=a;var f,g,v,_;e.length>r.length?(f=o[0],g=o[1],v=o[2],_=o[3]):(v=o[0],_=o[1],f=o[2],g=o[3]);var m=o[4];return[f,g,v,_,m]},l.prototype.diff_cleanupSemantic=function(e){for(var r=!1,n=[],i=0,s=null,t=0,a=0,h=0,o=0,f=0;t<e.length;)e[t][0]==u?(n[i++]=t,a=o,h=f,o=0,f=0,s=e[t][1]):(e[t][0]==p?o+=e[t][1].length:f+=e[t][1].length,s&&s.length<=Math.max(a,h)&&s.length<=Math.max(o,f)&&(e.splice(n[i-1],0,new l.Diff(d,s)),e[n[i-1]+1][0]=p,i--,i--,t=i>0?n[i-1]:-1,a=0,h=0,o=0,f=0,s=null,r=!0)),t++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),t=1;t<e.length;){if(e[t-1][0]==d&&e[t][0]==p){var g=e[t-1][1],v=e[t][1],_=this.diff_commonOverlap_(g,v),m=this.diff_commonOverlap_(v,g);_>=m?(_>=g.length/2||_>=v.length/2)&&(e.splice(t,0,new l.Diff(u,v.substring(0,_))),e[t-1][1]=g.substring(0,g.length-_),e[t+1][1]=v.substring(_),t++):(m>=g.length/2||m>=v.length/2)&&(e.splice(t,0,new l.Diff(u,g.substring(0,m))),e[t-1][0]=p,e[t-1][1]=v.substring(0,v.length-m),e[t+1][0]=d,e[t+1][1]=g.substring(m),t++),t++}t++}},l.prototype.diff_cleanupSemanticLossless=function(e){function r(m,w){if(!m||!w)return 6;var D=m.charAt(m.length-1),S=w.charAt(0),M=D.match(l.nonAlphaNumericRegex_),T=S.match(l.nonAlphaNumericRegex_),y=M&&D.match(l.whitespaceRegex_),k=T&&S.match(l.whitespaceRegex_),E=y&&D.match(l.linebreakRegex_),A=k&&S.match(l.linebreakRegex_),P=E&&m.match(l.blanklineEndRegex_),C=A&&w.match(l.blanklineStartRegex_);return P||C?5:E||A?4:M&&!y&&k?3:y||k?2:M||T?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==u&&e[n+1][0]==u){var i=e[n-1][1],s=e[n][1],t=e[n+1][1],a=this.diff_commonSuffix(i,s);if(a){var h=s.substring(s.length-a);i=i.substring(0,i.length-a),s=h+s.substring(0,s.length-a),t=h+t}for(var o=i,f=s,g=t,v=r(i,s)+r(s,t);s.charAt(0)===t.charAt(0);){i+=s.charAt(0),s=s.substring(1)+t.charAt(0),t=t.substring(1);var _=r(i,s)+r(s,t);_>=v&&(v=_,o=i,f=s,g=t)}e[n-1][1]!=o&&(o?e[n-1][1]=o:(e.splice(n-1,1),n--),e[n][1]=f,g?e[n+1][1]=g:(e.splice(n+1,1),n--))}n++}},l.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,l.whitespaceRegex_=/\s/,l.linebreakRegex_=/[\r\n]/,l.blanklineEndRegex_=/\n\r?\n$/,l.blanklineStartRegex_=/^\r?\n\r?\n/,l.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,n=[],i=0,s=null,t=0,a=!1,h=!1,o=!1,f=!1;t<e.length;)e[t][0]==u?(e[t][1].length<this.Diff_EditCost&&(o||f)?(n[i++]=t,a=o,h=f,s=e[t][1]):(i=0,s=null),o=f=!1):(e[t][0]==d?f=!0:o=!0,s&&(a&&h&&o&&f||s.length<this.Diff_EditCost/2&&a+h+o+f==3)&&(e.splice(n[i-1],0,new l.Diff(d,s)),e[n[i-1]+1][0]=p,i--,s=null,a&&h?(o=f=!0,i=0):(i--,t=i>0?n[i-1]:-1,o=f=!1),r=!0)),t++;r&&this.diff_cleanupMerge(e)},l.prototype.diff_cleanupMerge=function(e){e.push(new l.Diff(u,""));for(var r=0,n=0,i=0,s="",t="",a;r<e.length;)switch(e[r][0]){case p:i++,t+=e[r][1],r++;break;case d:n++,s+=e[r][1],r++;break;case u:n+i>1?(n!==0&&i!==0&&(a=this.diff_commonPrefix(t,s),a!==0&&(r-n-i>0&&e[r-n-i-1][0]==u?e[r-n-i-1][1]+=t.substring(0,a):(e.splice(0,0,new l.Diff(u,t.substring(0,a))),r++),t=t.substring(a),s=s.substring(a)),a=this.diff_commonSuffix(t,s),a!==0&&(e[r][1]=t.substring(t.length-a)+e[r][1],t=t.substring(0,t.length-a),s=s.substring(0,s.length-a))),r-=n+i,e.splice(r,n+i),s.length&&(e.splice(r,0,new l.Diff(d,s)),r++),t.length&&(e.splice(r,0,new l.Diff(p,t)),r++),r++):r!==0&&e[r-1][0]==u?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,s="",t="";break}e[e.length-1][1]===""&&e.pop();var h=!1;for(r=1;r<e.length-1;)e[r-1][0]==u&&e[r+1][0]==u&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),h=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),h=!0)),r++;h&&this.diff_cleanupMerge(e)},l.prototype.diff_xIndex=function(e,r){var n=0,i=0,s=0,t=0,a;for(a=0;a<e.length&&(e[a][0]!==p&&(n+=e[a][1].length),e[a][0]!==d&&(i+=e[a][1].length),!(n>r));a++)s=n,t=i;return e.length!=a&&e[a][0]===d?t:t+(r-s)},l.prototype.diff_prettyHtml=function(e){for(var r=[],n=/&/g,i=/</g,s=/>/g,t=/\n/g,a=0;a<e.length;a++){var h=e[a][0],o=e[a][1],f=o.replace(n,"&amp;").replace(i,"&lt;").replace(s,"&gt;").replace(t,"&para;<br>");switch(h){case p:r[a]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case d:r[a]='<del style="background:#ffe6e6;">'+f+"</del>";break;case u:r[a]="<span>"+f+"</span>";break}}return r.join("")},l.prototype.diff_text1=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==p&&(r[n]=e[n][1]);return r.join("")},l.prototype.diff_text2=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==d&&(r[n]=e[n][1]);return r.join("")},l.prototype.diff_levenshtein=function(e){for(var r=0,n=0,i=0,s=0;s<e.length;s++){var t=e[s][0],a=e[s][1];switch(t){case p:n+=a.length;break;case d:i+=a.length;break;case u:r+=Math.max(n,i),n=0,i=0;break}}return r+=Math.max(n,i),r},l.prototype.diff_toDelta=function(e){for(var r=[],n=0;n<e.length;n++)switch(e[n][0]){case p:r[n]="+"+encodeURI(e[n][1]);break;case d:r[n]="-"+e[n][1].length;break;case u:r[n]="="+e[n][1].length;break}return r.join("	").replace(/%20/g," ")},l.prototype.diff_fromDelta=function(e,r){for(var n=[],i=0,s=0,t=r.split(/\t/g),a=0;a<t.length;a++){var h=t[a].substring(1);switch(t[a].charAt(0)){case"+":try{n[i++]=new l.Diff(p,decodeURI(h))}catch{throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var o=parseInt(h,10);if(isNaN(o)||o<0)throw new Error("Invalid number in diff_fromDelta: "+h);var f=e.substring(s,s+=o);t[a].charAt(0)=="="?n[i++]=new l.Diff(u,f):n[i++]=new l.Diff(d,f);break;default:if(t[a])throw new Error("Invalid diff operation in diff_fromDelta: "+t[a])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return n},l.prototype.match_main=function(e,r,n){if(e==null||r==null||n==null)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==r?0:e.length?e.substring(n,n+r.length)==r?n:this.match_bitap_(e,r,n):-1},l.prototype.match_bitap_=function(e,r,n){if(r.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(r),s=this;function t(k,E){var A=k/r.length,P=Math.abs(n-E);return s.Match_Distance?A+P/s.Match_Distance:P?1:A}var a=this.Match_Threshold,h=e.indexOf(r,n);h!=-1&&(a=Math.min(t(0,h),a),h=e.lastIndexOf(r,n+r.length),h!=-1&&(a=Math.min(t(0,h),a)));var o=1<<r.length-1;h=-1;for(var f,g,v=r.length+e.length,_,m=0;m<r.length;m++){for(f=0,g=v;f<g;)t(m,n+g)<=a?f=g:v=g,g=Math.floor((v-f)/2+f);v=g;var w=Math.max(1,n-g+1),D=Math.min(n+g,e.length)+r.length,S=Array(D+2);S[D+1]=(1<<m)-1;for(var M=D;M>=w;M--){var T=i[e.charAt(M-1)];if(m===0?S[M]=(S[M+1]<<1|1)&T:S[M]=(S[M+1]<<1|1)&T|((_[M+1]|_[M])<<1|1)|_[M+1],S[M]&o){var y=t(m,M-1);if(y<=a)if(a=y,h=M-1,h>n)w=Math.max(1,2*n-h);else break}}if(t(m+1,n)>a)break;_=S}return h},l.prototype.match_alphabet_=function(e){for(var r={},n=0;n<e.length;n++)r[e.charAt(n)]=0;for(var n=0;n<e.length;n++)r[e.charAt(n)]|=1<<e.length-n-1;return r},l.prototype.patch_addContext_=function(e,r){if(r.length!=0){if(e.start2===null)throw Error("patch not initialized");for(var n=r.substring(e.start2,e.start2+e.length1),i=0;r.indexOf(n)!=r.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=r.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var s=r.substring(e.start2-i,e.start2);s&&e.diffs.unshift(new l.Diff(u,s));var t=r.substring(e.start2+e.length1,e.start2+e.length1+i);t&&e.diffs.push(new l.Diff(u,t)),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+t.length,e.length2+=s.length+t.length}},l.prototype.patch_make=function(e,r,n){var i,s;if(typeof e=="string"&&typeof r=="string"&&typeof n>"u")i=e,s=this.diff_main(i,r,!0),s.length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&typeof e=="object"&&typeof r>"u"&&typeof n>"u")s=e,i=this.diff_text1(s);else if(typeof e=="string"&&r&&typeof r=="object"&&typeof n>"u")i=e,s=r;else if(typeof e=="string"&&typeof r=="string"&&n&&typeof n=="object")i=e,s=n;else throw new Error("Unknown call format to patch_make.");if(s.length===0)return[];for(var t=[],a=new l.patch_obj,h=0,o=0,f=0,g=i,v=i,_=0;_<s.length;_++){var m=s[_][0],w=s[_][1];switch(!h&&m!==u&&(a.start1=o,a.start2=f),m){case p:a.diffs[h++]=s[_],a.length2+=w.length,v=v.substring(0,f)+w+v.substring(f);break;case d:a.length1+=w.length,a.diffs[h++]=s[_],v=v.substring(0,f)+v.substring(f+w.length);break;case u:w.length<=2*this.Patch_Margin&&h&&s.length!=_+1?(a.diffs[h++]=s[_],a.length1+=w.length,a.length2+=w.length):w.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(a,g),t.push(a),a=new l.patch_obj,h=0,g=v,o=f);break}m!==p&&(o+=w.length),m!==d&&(f+=w.length)}return h&&(this.patch_addContext_(a,g),t.push(a)),t},l.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n],s=new l.patch_obj;s.diffs=[];for(var t=0;t<i.diffs.length;t++)s.diffs[t]=new l.Diff(i.diffs[t][0],i.diffs[t][1]);s.start1=i.start1,s.start2=i.start2,s.length1=i.length1,s.length2=i.length2,r[n]=s}return r},l.prototype.patch_apply=function(e,r){if(e.length==0)return[r,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);r=n+r+n,this.patch_splitMax(e);for(var i=0,s=[],t=0;t<e.length;t++){var a=e[t].start2+i,h=this.diff_text1(e[t].diffs),o,f=-1;if(h.length>this.Match_MaxBits?(o=this.match_main(r,h.substring(0,this.Match_MaxBits),a),o!=-1&&(f=this.match_main(r,h.substring(h.length-this.Match_MaxBits),a+h.length-this.Match_MaxBits),(f==-1||o>=f)&&(o=-1))):o=this.match_main(r,h,a),o==-1)s[t]=!1,i-=e[t].length2-e[t].length1;else{s[t]=!0,i=o-a;var g;if(f==-1?g=r.substring(o,o+h.length):g=r.substring(o,f+this.Match_MaxBits),h==g)r=r.substring(0,o)+this.diff_text2(e[t].diffs)+r.substring(o+h.length);else{var v=this.diff_main(h,g,!1);if(h.length>this.Match_MaxBits&&this.diff_levenshtein(v)/h.length>this.Patch_DeleteThreshold)s[t]=!1;else{this.diff_cleanupSemanticLossless(v);for(var _=0,m,w=0;w<e[t].diffs.length;w++){var D=e[t].diffs[w];D[0]!==u&&(m=this.diff_xIndex(v,_)),D[0]===p?r=r.substring(0,o+m)+D[1]+r.substring(o+m):D[0]===d&&(r=r.substring(0,o+m)+r.substring(o+this.diff_xIndex(v,_+D[1].length))),D[0]!==d&&(_+=D[1].length)}}}}}return r=r.substring(n.length,r.length-n.length),[r,s]},l.prototype.patch_addPadding=function(e){for(var r=this.Patch_Margin,n="",i=1;i<=r;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=r,e[i].start2+=r;var s=e[0],t=s.diffs;if(t.length==0||t[0][0]!=u)t.unshift(new l.Diff(u,n)),s.start1-=r,s.start2-=r,s.length1+=r,s.length2+=r;else if(r>t[0][1].length){var a=r-t[0][1].length;t[0][1]=n.substring(t[0][1].length)+t[0][1],s.start1-=a,s.start2-=a,s.length1+=a,s.length2+=a}if(s=e[e.length-1],t=s.diffs,t.length==0||t[t.length-1][0]!=u)t.push(new l.Diff(u,n)),s.length1+=r,s.length2+=r;else if(r>t[t.length-1][1].length){var a=r-t[t.length-1][1].length;t[t.length-1][1]+=n.substring(0,a),s.length1+=a,s.length2+=a}return n},l.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=r)){var i=e[n];e.splice(n--,1);for(var s=i.start1,t=i.start2,a="";i.diffs.length!==0;){var h=new l.patch_obj,o=!0;for(h.start1=s-a.length,h.start2=t-a.length,a!==""&&(h.length1=h.length2=a.length,h.diffs.push(new l.Diff(u,a)));i.diffs.length!==0&&h.length1<r-this.Patch_Margin;){var f=i.diffs[0][0],g=i.diffs[0][1];f===p?(h.length2+=g.length,t+=g.length,h.diffs.push(i.diffs.shift()),o=!1):f===d&&h.diffs.length==1&&h.diffs[0][0]==u&&g.length>2*r?(h.length1+=g.length,s+=g.length,o=!1,h.diffs.push(new l.Diff(f,g)),i.diffs.shift()):(g=g.substring(0,r-h.length1-this.Patch_Margin),h.length1+=g.length,s+=g.length,f===u?(h.length2+=g.length,t+=g.length):o=!1,h.diffs.push(new l.Diff(f,g)),g==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(g.length))}a=this.diff_text2(h.diffs),a=a.substring(a.length-this.Patch_Margin);var v=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);v!==""&&(h.length1+=v.length,h.length2+=v.length,h.diffs.length!==0&&h.diffs[h.diffs.length-1][0]===u?h.diffs[h.diffs.length-1][1]+=v:h.diffs.push(new l.Diff(u,v))),o||e.splice(++n,0,h)}}},l.prototype.patch_toText=function(e){for(var r=[],n=0;n<e.length;n++)r[n]=e[n];return r.join("")},l.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var n=e.split(`
`),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var t=n[i].match(s);if(!t)throw new Error("Invalid patch string: "+n[i]);var a=new l.patch_obj;for(r.push(a),a.start1=parseInt(t[1],10),t[2]===""?(a.start1--,a.length1=1):t[2]=="0"?a.length1=0:(a.start1--,a.length1=parseInt(t[2],10)),a.start2=parseInt(t[3],10),t[4]===""?(a.start2--,a.length2=1):t[4]=="0"?a.length2=0:(a.start2--,a.length2=parseInt(t[4],10)),i++;i<n.length;){var h=n[i].charAt(0);try{var o=decodeURI(n[i].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+o)}if(h=="-")a.diffs.push(new l.Diff(d,o));else if(h=="+")a.diffs.push(new l.Diff(p,o));else if(h==" ")a.diffs.push(new l.Diff(u,o));else{if(h=="@")break;if(h!=="")throw new Error('Invalid patch mode "'+h+'" in: '+o)}i++}}return r},l.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},l.patch_obj.prototype.toString=function(){var e,r;this.length1===0?e=this.start1+",0":this.length1==1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?r=this.start2+",0":this.length2==1?r=this.start2+1:r=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+r+` @@
`],i,s=0;s<this.diffs.length;s++){switch(this.diffs[s][0]){case p:i="+";break;case d:i="-";break;case u:i=" ";break}n[s+1]=i+encodeURI(this.diffs[s][1])+`
`}return n.join("").replace(/%20/g," ")},b.exports=l,b.exports.diff_match_patch=l,b.exports.DIFF_DELETE=d,b.exports.DIFF_INSERT=p,b.exports.DIFF_EQUAL=u})(z);var K=z.exports;const W=Z(K),Y={name:"TextDiffTool",data(){return{originalText:"",modifiedText:"",viewMode:"sideBySide",autoCompareEnabled:!1,diffResult:null,diffStats:{added:0,removed:0,unchanged:0},dmp:new W}},computed:{hasText(){return this.originalText.length>0||this.modifiedText.length>0}},methods:{compareTexts(){if(!this.originalText&&!this.modifiedText)return;const b=this.dmp.diff_main(this.originalText,this.modifiedText);this.dmp.diff_cleanupSemantic(b),this.diffResult=this.processDiffResult(b),this.calculateStats(b)},processDiffResult(b){const l=[],d=[],p=[];return this.mergeConsecutiveDiffs(b).forEach(e=>{const[r,n]=e,i=this.escapeHtml(n);r===0?(l.push({text:i,type:"unchanged"}),d.push({text:i,type:"unchanged"}),p.push({text:i,type:"unchanged"})):r===-1?(l.push({text:i,type:"removed"}),d.push({text:" ",type:"empty"}),p.push({text:i,type:"removed"})):r===1&&(l.push({text:" ",type:"empty"}),d.push({text:i,type:"added"}),p.push({text:i,type:"added"}))}),{left:l,right:d,inline:p}},calculateStats(b){this.diffStats={added:0,removed:0,unchanged:0},b.forEach(l=>{const[d,p]=l;d===0?this.diffStats.unchanged+=p.length:d===-1?this.diffStats.removed+=p.length:d===1&&(this.diffStats.added+=p.length)})},escapeHtml(b){const l=document.createElement("div");return l.textContent=b,l.innerHTML},autoCompare(){this.autoCompareEnabled&&this.hasText&&this.compareTexts()},clearTexts(){this.originalText="",this.modifiedText="",this.diffResult=null},swapTexts(){[this.originalText,this.modifiedText]=[this.modifiedText,this.originalText],this.hasText&&this.compareTexts()},copyResult(){let b="";this.viewMode==="sideBySide"?b=`原始文本:
`+this.originalText+`

修改后文本:
`+this.modifiedText:b=this.modifiedText,navigator.clipboard.writeText(b).then(()=>{alert("已复制到剪贴板")}).catch(l=>{console.error("复制失败:",l),alert("复制失败，请手动复制")})},mergeConsecutiveDiffs(b){if(!b.length)return[];const l=[];let d=b[0];for(let p=1;p<b.length;p++)b[p][0]===d[0]?d[1]+=b[p][1]:(l.push(d),d=b[p]);return l.push(d),l}},watch:{viewMode(){this.diffResult&&this.compareTexts()}}},$={class:"text-diff-tool"},x={class:"diff-container"},ee={class:"input-section"},re={class:"text-input"},ne={class:"input-header"},te={class:"char-count"},ie={class:"text-input"},se={class:"input-header"},ae={class:"char-count"},le={class:"controls"},he={class:"control-group"},oe={class:"control-group"},fe={class:"checkbox-label"},ge={class:"view-options"},ue={class:"radio-label"},ve={class:"radio-label"},ce={key:0,class:"result-section"},de={class:"result-header"},_e={class:"diff-stats"},me={class:"stat added"},pe={class:"stat removed"},be={class:"stat unchanged"},we={key:0,class:"side-by-side"},Me={class:"diff-side"},De={class:"diff-content",ref:"leftContent"},Te=["innerHTML"],ye={class:"diff-side"},ke={class:"diff-content",ref:"rightContent"},Se=["innerHTML"],Pe={key:1,class:"inline-view"},Ae={class:"diff-content"},Ee=["innerHTML"],Ce={class:"result-actions"},Re={key:1,class:"no-result"};function Ie(b,l,d,p,u,e){return I(),R("div",$,[l[24]||(l[24]=c("div",{class:"tool-header"},[c("h2",null,"文本差异比较工具"),c("p",null,"使用专业算法比较两个文本内容之间的差异，支持多种视图模式")],-1)),c("div",x,[c("div",ee,[c("div",re,[c("div",ne,[l[11]||(l[11]=c("label",{for:"original-text"},"原始文本",-1)),c("span",te,F(u.originalText.length)+" 字符",1)]),N(c("textarea",{id:"original-text","onUpdate:modelValue":l[0]||(l[0]=r=>u.originalText=r),placeholder:"请输入或粘贴原始文本内容",rows:"12",onInput:l[1]||(l[1]=(...r)=>e.autoCompare&&e.autoCompare(...r))},null,544),[[V,u.originalText]])]),c("div",ie,[c("div",se,[l[12]||(l[12]=c("label",{for:"modified-text"},"修改后文本",-1)),c("span",ae,F(u.modifiedText.length)+" 字符",1)]),N(c("textarea",{id:"modified-text","onUpdate:modelValue":l[2]||(l[2]=r=>u.modifiedText=r),placeholder:"请输入或粘贴修改后的文本内容",rows:"12",onInput:l[3]||(l[3]=(...r)=>e.autoCompare&&e.autoCompare(...r))},null,544),[[V,u.modifiedText]])])]),c("div",le,[c("div",he,[c("button",{onClick:l[4]||(l[4]=(...r)=>e.compareTexts&&e.compareTexts(...r)),class:"compare-btn"},[...l[13]||(l[13]=[c("span",{class:"icon"},"🔍",-1),L(" 比较文本",-1)])]),c("button",{onClick:l[5]||(l[5]=(...r)=>e.clearTexts&&e.clearTexts(...r)),class:"clear-btn"},[...l[14]||(l[14]=[c("span",{class:"icon"},"🗑️",-1),L(" 清空文本",-1)])])]),c("div",oe,[c("label",fe,[N(c("input",{type:"checkbox","onUpdate:modelValue":l[6]||(l[6]=r=>u.autoCompareEnabled=r)},null,512),[[Q,u.autoCompareEnabled]]),l[15]||(l[15]=L(" 实时比较 ",-1))]),c("div",ge,[c("label",ue,[N(c("input",{type:"radio","onUpdate:modelValue":l[7]||(l[7]=r=>u.viewMode=r),value:"sideBySide"},null,512),[[j,u.viewMode]]),l[16]||(l[16]=L(" 并排视图 ",-1))]),c("label",ve,[N(c("input",{type:"radio","onUpdate:modelValue":l[8]||(l[8]=r=>u.viewMode=r),value:"inline"},null,512),[[j,u.viewMode]]),l[17]||(l[17]=L(" 行内视图 ",-1))])])])]),u.diffResult?(I(),R("div",ce,[c("div",de,[l[18]||(l[18]=c("h3",null,"比较结果",-1)),c("div",_e,[c("span",me,"添加: "+F(u.diffStats.added),1),c("span",pe,"删除: "+F(u.diffStats.removed),1),c("span",be,"未更改: "+F(u.diffStats.unchanged),1)])]),c("div",{class:O(["diff-result",u.viewMode])},[u.viewMode==="sideBySide"?(I(),R("div",we,[c("div",Me,[l[19]||(l[19]=c("h4",null,"原始文本",-1)),c("div",De,[(I(!0),R(U,null,H(u.diffResult.left,(r,n)=>(I(),R("span",{key:"left-"+n,class:O(r.type),innerHTML:r.text},null,10,Te))),128))],512)]),c("div",ye,[l[20]||(l[20]=c("h4",null,"修改后文本",-1)),c("div",ke,[(I(!0),R(U,null,H(u.diffResult.right,(r,n)=>(I(),R("span",{key:"right-"+n,class:O(r.type),innerHTML:r.text},null,10,Se))),128))],512)])])):(I(),R("div",Pe,[c("div",Ae,[(I(!0),R(U,null,H(u.diffResult.inline,(r,n)=>(I(),R("span",{key:"inline-"+n,class:O(r.type),innerHTML:r.text},null,10,Ee))),128))])]))],2),c("div",Ce,[c("button",{onClick:l[9]||(l[9]=(...r)=>e.swapTexts&&e.swapTexts(...r)),class:"action-btn"},[...l[21]||(l[21]=[c("span",{class:"icon"},"🔄",-1),L(" 交换文本",-1)])]),c("button",{onClick:l[10]||(l[10]=(...r)=>e.copyResult&&e.copyResult(...r)),class:"action-btn"},[...l[22]||(l[22]=[c("span",{class:"icon"},"📋",-1),L(" 复制结果",-1)])])])])):e.hasText?(I(),R("div",Re,[...l[23]||(l[23]=[c("p",null,'点击"比较文本"按钮查看差异',-1)])])):G("",!0)])])}const Be=q(Y,[["render",Ie],["__scopeId","data-v-d539c252"]]),Fe=JSON.parse('{"title":"文本差异比较工具","description":"使用专业算法比较两个文本内容之间的差异，支持多种视图模式","frontmatter":{"title":"文本差异比较工具","description":"使用专业算法比较两个文本内容之间的差异，支持多种视图模式"},"headers":[],"relativePath":"tools/text-diff.md","filePath":"tools/text-diff.md","lastUpdated":1757767066000}'),Le={name:"tools/text-diff.md"},Oe=Object.assign(Le,{setup(b){return(l,d)=>(I(),R("div",null,[d[0]||(d[0]=c("h1",{id:"文本差异比较工具",tabindex:"-1"},[L("文本差异比较工具 "),c("a",{class:"header-anchor",href:"#文本差异比较工具","aria-label":'Permalink to "文本差异比较工具"'},"​")],-1)),d[1]||(d[1]=c("p",null,"一个强大的文本差异比较工具，使用专业的diff-match-patch算法精确识别两个文本版本之间的差异，支持并排和行内两种视图模式。",-1)),J(Be),d[2]||(d[2]=X('<h2 id="功能特点" tabindex="-1">功能特点 <a class="header-anchor" href="#功能特点" aria-label="Permalink to &quot;功能特点&quot;">​</a></h2><ul><li><strong>专业差异算法</strong>：使用Google的diff-match-patch库，提供准确的差异检测</li><li><strong>双文本输入框</strong>：同时显示原始文本和修改后文本，实时字符计数</li><li><strong>两种视图模式</strong>：支持并排比较和行内差异显示</li><li><strong>精确差异高亮</strong>：使用颜色区分添加、删除和未更改的内容</li><li><strong>详细差异统计</strong>：显示添加、删除和未更改的字符数统计</li><li><strong>实时比较</strong>：可选实时比较模式，输入时自动更新差异</li><li><strong>文本交换</strong>：一键交换原始文本和修改后文本</li><li><strong>结果复制</strong>：方便地复制比较结果</li><li><strong>响应式设计</strong>：完美适配各种屏幕尺寸的设备</li></ul><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h2><ol><li>在左侧文本框中输入或粘贴原始文本内容</li><li>在右侧文本框中输入或粘贴修改后的文本内容</li><li>点击&quot;比较文本&quot;按钮查看差异（或启用&quot;实时比较&quot;）</li><li>选择不同的视图模式（并排或行内）以不同的方式查看差异</li><li>使用统计信息了解更改的详细情况</li><li>需要时可以使用&quot;交换文本&quot;或&quot;复制结果&quot;功能</li></ol><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to &quot;使用场景&quot;">​</a></h2><ul><li><strong>代码审查</strong>：比较代码修改前后的差异，提高代码审查效率</li><li><strong>文档修订</strong>：查看文档修改的内容，跟踪版本变化</li><li><strong>内容校对</strong>：检查文本编辑过程中的变化，确保内容准确性</li><li><strong>版本对比</strong>：比较不同版本的文件内容，了解演进过程</li><li><strong>学术写作</strong>：比较论文修改内容，跟踪写作进度</li></ul><h2 id="技术实现" tabindex="-1">技术实现 <a class="header-anchor" href="#技术实现" aria-label="Permalink to &quot;技术实现&quot;">​</a></h2><p>本工具使用Google的diff-match-patch算法，这是业界领先的文本差异检测算法，被广泛应用于各种文本比较场景。所有计算均在浏览器端完成，确保您的文本内容不会上传到任何服务器，保护您的隐私和安全。</p><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ul><li>对于非常大的文本（超过10,000字符），实时比较模式可能会影响性能</li><li>差异比较算法基于字符级比较，提供精确的差异检测</li><li>对于特别复杂的修改，算法会自动进行语义清理，提供更直观的结果</li></ul>',10))]))}});export{Fe as __pageData,Oe as default};
